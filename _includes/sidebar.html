<aside class=" hidden h-full  md:block md:w-80 shrink-0">
    <div class="sticky h-full top-8">
        <section class="h-full rounded-2xl overflow-hidden">
            <!-- Bandeau -->
            <div class="h-28 "></div>

            <div class="-mt-12 px-6 pb-6">
                <!-- Logo -->
                {% if page and page.language == "en" %}
                <a href="/en/" class="block text-center">
                    <img src="/logo.png" alt="Jean-FranÃ§ois LÃ©pine's blog" class="h-24 w-24 rounded-2xl mx-auto"/>
                </a>
                {% else %}
                <a href="/" class="block text-center">
                    <img src="/logo.png" alt="Blog de Jean-FranÃ§ois LÃ©pine" class="h-24 w-24  mx-auto"/>
                </a>
                {% endif %}

                <!-- Titre + pitch -->
                {% if page and page.language == "en" %}
                <h2 class="mt-4 text-xl font-semibold text-gray-900">
                    Blog of <a href="https://lepine.pro" class="underline decoration-indigo-400 hover:decoration-2">{{ site.theme.name }}</a>
                </h2>
                <p class="mt-2 text-sm text-gray-600">DevOps, and software quality.</p>
                {% else %}
                <h2 class="mt-4 text-xl font-semibold text-gray-900">
                    Blog de <a href="https://lepine.pro" class="underline decoration-indigo-400 hover:decoration-2">{{ site.theme.name }}</a>
                </h2>
                <p class="mt-2 text-sm text-gray-600">DevOps et qualitÃ© logicielle.</p>
                {% endif %}

                <!-- Actions -->
                <div class="mt-4 flex gap-2">
                    <a href="https://www.amazon.fr/Qualit%C3%A9-logicielle-pour-d%C3%A9veloppeurs-back-end/dp/2416012673"
                       class="inline-flex items-center gap-2 rounded-lg bg-gray-900 px-3 py-2 text-xs font-medium text-white hover:opacity-90">
                        <svg viewBox="0 0 20 20" fill="currentColor" class="h-4 w-4"><path d="m9.653 16.915-.005-.003-.019-.01a20.759 20.759 0 0 1-1.162-.682 22.045 22.045 0 0 1-2.582-1.9C4.045 12.733 2 10.352 2 7.5a4.5 4.5 0 0 1 8-2.828A4.5 4.5 0 0 1 18 7.5c0 2.852-2.044 5.233-3.885 6.82a22.049 22.049 0 0 1-3.744 2.582l-.019.01-.005.003h-.002a.739.739 0 0 1-.69.001Z"/></svg>
                        {% if page and page.language == "en" %}My book{% else %}Mon livre{% endif %}
                    </a>
                    <a href="/atom.xml" class="inline-flex items-center rounded-lg ring-1 ring-gray-200 px-3 py-2 text-xs font-medium text-gray-700 hover:bg-gray-50">RSS</a>
                </div>

                <!-- Projets -->
                <div class="mt-6 grid gap-2 text-sm">
                    <a href="https://github.com/phpmetrics/PhpMetrics" class="group flex items-center justify-between rounded-lg bg-gray-50 px-3 py-2 hover:bg-gray-100">
                        <span class="font-medium text-gray-800">PHPMetrics</span>
                        <i class="fa-brands fa-github text-gray-500 group-hover:text-gray-700"></i>
                    </a>
                    <a href="https://github.com/halleck45/ast-metrics" class="group flex items-center justify-between rounded-lg bg-gray-50 px-3 py-2 hover:bg-gray-100">
                        <span class="font-medium text-gray-800">AST Metrics</span>
                        <i class="fa-brands fa-github text-gray-500 group-hover:text-gray-700"></i>
                    </a>
                </div>

                <!-- Navigation principale + switch langue -->
                <nav class="mt-6">
                    <ul class="space-y-1 text-sm">
                        <li>
                            <a href="{% if page and page.language == 'en' %}/en/{% else %}/{% endif %}" class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m3 10.5 9-7.5 9 7.5V21a.75.75 0 0 1-.75.75H6.75A.75.75 0 0 1 6 21v-6.75"/></svg>
                                {% if page and page.language == "en" %}Home{% else %}Accueil{% endif %}
                            </a>
                        </li>
                        <li>
                            <a href="https://lepine.pro/" class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 7.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0ZM4.5 19.5a7.5 7.5 0 1 1 15 0V21a.75.75 0 0 1-.75.75H5.25A.75.75 0 0 1 4.5 21v-1.5Z"/></svg>
                                {% if page and page.language == "en" %}About me{% else %}Ã€ propos{% endif %}
                            </a>
                        </li>
                        <li>
                            <a href="https://www.linkedin.com/in/jean-fran%C3%A7ois-l%C3%A9pine-6a122726/" class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15A2.25 2.25 0 0 1 2.25 17.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.5a2.25 2.25 0 0 1-2.31 0l-7.5-4.5A2.25 2.25 0 0 1 2.25 6.993V6.75"/></svg>
                                {% if page and page.language == "en" %}Contact me{% else %}Me contacter{% endif %}
                            </a>
                        </li>
                        <li class="pt-1">
                            {% if page and page.language == "en" %}
                            <a href="/" class="block rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">ðŸ‡«ðŸ‡· FranÃ§ais</a>
                            {% else %}
                            <a href="/en" class="block rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">ðŸ‡¬ðŸ‡§ English</a>
                            {% endif %}
                        </li>
                    </ul>
                </nav>

                <!-- RÃ©seaux -->
                <div class="mt-6">
                    <div id="social" class="text-xl text-gray-600 flex items-center gap-4">
                        {% include social.html %}
                    </div>
                </div>

                <p class="mt-6 text-[11px] text-gray-500">Â© Jean-FranÃ§ois LÃ©pine Â· 2010â€“2025</p>
            </div>
        </section>
    </div>
</aside>

<!-- Mobile drawer -->
<div class="md:hidden absolute inset-y-5 right-5 z-50 min-w-[300px] inline-table">
    <details class="group relative">
        <summary id="mobile-menu" class="flex items-center justify-end gap-2 px-2 text-sm font-medium cursor-pointer " aria-label="Menu" role="button">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5M3.75 17.25h16.5"/></svg>
            <span class="sr-only">Menu</span>
        </summary>
        <div class="mt-2 rounded-2xl bg-white p-4 shadow ring-1 ring-black/5">
            <div class="px-1 py-1 text-xs uppercase tracking-wide text-gray-500">Navigation</div>
            <a href="{% if page and page.language == 'en' %}/en/{% else %}/{% endif %}" class="flex items-center gap-2 rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="m3 10.5 9-7.5 9 7.5V21a.75.75 0 0 1-.75.75H6.75A.75.75 0 0 1 6 21v-6.75"/></svg>
                {% if page and page.language == "en" %}Home{% else %}Accueil{% endif %}
            </a>
            <div class="mt-3 px-1 py-1 text-xs uppercase tracking-wide text-gray-500">{{page.language}}
                {% if page and page.language == 'en'%}About{% else %}Ã€ propos{% endif %}
            </div>
            <a href="https://lepine.pro/" class="block rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                {% if page and page.language == 'en'%}About me{% else %}Ã€ propos de moi{% endif %}
            </a>
            <div class="mt-3 px-1 py-1 text-xs uppercase tracking-wide text-gray-500">Contact</div>
            <a href="https://www.linkedin.com/in/jean-fran%C3%A7ois-l%C3%A9pine-6a122726" class="block rounded-lg px-3 py-2 text-gray-700 hover:bg-gray-50">
                {% if page and page.language == 'en'%}Contact me{% else %}Me contacter{% endif %}
            </a>
            <div class="mt-3  text-gray-600">
                {% include social.html %}
            </div>
        </div>
    </details>
</div>
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
        // if mobile menu is open, click outside of the menu close it
        document.addEventListener("click", function(event) {
            var isClickInside = document.getElementById("mobile-menu").contains(event.target);
            if (!isClickInside) {
                document.querySelector("#mobile-menu").parentElement.removeAttribute("open");
            }
        });
    })
</script>